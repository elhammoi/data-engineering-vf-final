{% extends "base.html" %}
{% block title %}{{ team_name }} - Joueurs{% endblock %}

{% block content %}
<div class="container">
  <h2 class="text-center my-4">{{ team_name }} - Joueurs</h2>
  
  <div class="mb-3">
    <form method="get" class="row g-3 align-items-center">
      <div class="col-auto">
        <label for="position" class="form-label">Filtrer par position :</label>
      </div>
      <div class="col-auto">
        <select name="position" id="position" class="form-select">
          <option value="">Toutes</option>
          {% for pos in positions %}
          <option value="{{ pos }}" {% if pos == selected_position %}selected{% endif %}>{{ pos }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col-auto">
        <button type="submit" class="btn btn-primary">Filtrer</button>
      </div>
    </form>
  </div>
  
  <table class="table table-bordered">
    <thead class="table-dark">
      <tr>
        <th>Player</th>
        <th>Âge</th>
        <th>Position</th>
        <th>Matchs joués (G)</th>
        <th>Minutes (MP)</th>
        <th>Points (PTS)</th>
      </tr>
    </thead>
    <tbody>
      {% for player in players %}
      <tr>
        <td><a href="{{ url_for('player', player_name=player['Player']) }}">{{ player['Player'] }}</a></td>
        <td>{{ player['Age'] }}</td>
        <td>{{ player['Pos'] }}</td>
        <td>{{ player['G'] }}</td>
        <td>{{ player['MP'] }}</td>
        <td>{{ player['PTS'] }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
